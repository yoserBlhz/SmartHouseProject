 <!-- <div class="dashboard-layout">
      <app-navbar></app-navbar>
      <div class="main-container">

        <app-sidebar class="app-sidebar"></app-sidebar>
    
        <div class="main-content">
          <div class="add-room-section">
            <button type="button" class="add-room-btn" data-bs-toggle="modal" data-bs-target="#addRoomModal">
              <i class="bi bi-plus"></i>Add Room
            </button>
          </div>
            <app-room></app-room>
          </div>
        </div>
      </div>
 -->

 <div class="dashboard-layout" [class.sidebar-closed]="isSidebarClosed">
  <app-navbar></app-navbar>
  <div class="main-container">
    <app-sidebar class="app-sidebar" (sidebarToggled)="handleSidebarToggle($event)"></app-sidebar>
    <div class="main-content">
      <div class="add-room-section">
        <button type="button" class="add-room-btn" data-bs-toggle="modal" data-bs-target="#addRoomModal">
          <i class="bi bi-plus"></i>Add Room
        </button>
      </div>
      <!-- <app-room></app-room> -->
      <ng-container *ngIf="rooms$ | async as rooms">
        <app-room [rooms]="rooms"></app-room>
      </ng-container>
    </div>
  </div>
</div>


<!-- Add Room Model -->
<div class="modal fade" tabindex="-1" role="dialog" id="addRoomModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"><i class="bi bi-house-add"></i>Add Room</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="roomForm">
          <!-- Room Name -->
          <div class="mb-3">
            <label for="roomName" class="form-label">Room Name</label>
            <input type="text" id="roomName" class="form-control" formControlName="name" placeholder="Enter room name">
          </div>
          
          <!-- Room Type Dropdown -->
          <div class="mb-3">
            <label for="roomType" class="form-label">Room Type</label>
            <select id="roomType" class="form-select" formControlName="type">
              <option value="bedroom">Bedroom</option>
              <option value="kitchen">Kitchen</option>
              <option value="bathroom">Bathroom</option>
              <option value="livingroom">Living Room</option>
              <option value="garden">Garden</option>
            </select>
          </div>

          <!-- Devices Checkboxes -->
          <div class="mb-3">
            <label class="form-label">Devices</label>
            <div class="form-check" *ngFor="let device of devices">
              <input type="checkbox" [id]="'device' + device.type" class="form-check-input" [formControlName]="device.type">
              <label [for]="'device' + device.type" class="form-check-label">{{ device.label }}</label>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-custom" (click)="saveRoom()">Save Room</button>
        <button type="button" class="btn btn-custom2" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

